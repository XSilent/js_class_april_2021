<!DOCTYPE html>
<html>
	<head>
		<title>Dice</title>
	</head>
<body>
	<p>
		<button onclick="throwDice();">Throw dice!</button>
	</p>

    <img src="" id="dice" />
    
    <input type="hidden" id="store" value="0" />

    <script type="text/javascript">
    
	// this function calls another function to retrieve
	// a random. With this random number its composing
	// a new file name. With the help of DOM manipulation
	// the function is changing the src attribute of the
    // exiting img tag with the id "dice"
    //
    // It stores the result of last dice throw in the 
    // local storage of the browser, retrieving it from
    // there again, to compare, whether the new dice
    // throw differs from the current one or not.
	function throwDice() {                                
        var oldNr = localStorage.getItem("lastThrow");

        do {
            var nr = getRandomNumber();
        } while(nr == oldNr)
        
        localStorage.setItem("lastThrow", nr); // save current value, to use it for comparing next tim        
		document.getElementById("dice").src = nr + ".png";
	}

	// this function returns a random number between 1 and 6
	function getRandomNumber() {
		var min = 1; 
		var max = 6; 

		return Math.round((Math.random() * (max - min)) + min); 
	}
	</script>
</body>
</html>
